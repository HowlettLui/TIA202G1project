<aside>
    <div class="flex-shrink-0 p-3">
        <div>
            <img src="../img/XXXXX.jpg" alt="" width="50" height="50" class="rounded-circle">
            <strong>Username</strong>
        </div>

        <ul class="list-unstyled ps-0">
            <li class="mb-1">
                <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                    data-bs-toggle="collapse" data-bs-target="#member-collapse" aria-expanded="false">
                    會員基本資料
                </button>
                <div class="collapse" id="member-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="/member/member_info.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">基本資料</a>
                        </li>
                    </ul>
                </div>
                <div class="collapse" id="member-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="/member/member_psw.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">修改密碼</a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="mb-1">
                <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                    data-bs-toggle="collapse" data-bs-target="#article-collapse" aria-expanded="false">
                    我的文章/新聞列表
                </button>
                <div class="collapse" id="article-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="../newsf/news_fmgr.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">文章管理功能</a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="mb-1">
                <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                    data-bs-toggle="collapse" data-bs-target="#collection-collapse" aria-expanded="false">
                    我的收藏
                </button>
                <div class="collapse" id="collection-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="/member/collection/c_article.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">收藏文章管理</a>
                        </li>
                        <li><a href="/member/collection/c_news.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">收藏新聞管理</a>
                        </li>
                        <li><a href="/member/collection/c_commodity.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">收藏商品管理</a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="mb-1">
                <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                    data-bs-toggle="collapse" data-bs-target="#team-collapse" aria-expanded="false">
                    關注球隊
                </button>
                <div class="collapse" id="team-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="/member/team/t_recent_game.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">近期賽事</a>
                        </li>
                        <li><a href="/member/team/t_historical_inf.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">歷史資料</a>
                        </li>
                        <li><a href="/member/team/t_player.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">關注的球員</a>
                        </li>
                        <li><a href="/member/team/t_cheer.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">關注的啦啦隊</a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="mb-1">
                <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                    data-bs-toggle="collapse" data-bs-target="#car-collapse" aria-expanded="false">
                    我的購物車
                </button>
                <div class="collapse" id="car-collapse">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                        <li><a href="../estore/cart.html"
                                class="link-body-emphasis d-inline-flex text-decoration-none rounded">我的購物車</a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</aside>

<!-- 切換子功能 -->
<script>
    $(document).ready(function () {
        // 使用事件代理確保所有 <a> 都正確綁定事件
            $('aside').on('click', 'a', function (e) {
                e.preventDefault(); // 阻止預設行為
                const url = $(this).attr('href'); // 取得 href 的值
                console.log(url);
                // 更新網址列
                history.pushState(null, '', url);
                // 動態載入內容
                loadContent(url);
            });
            
            // 監聽 popstate 事件
            window.addEventListener('popstate', function (e) {
                const url = location.pathname; // 取得當前網址
                console.log(url);
                // 動態載入內容
                loadContent(url);
            });
            
            // 定義載入內容的函數
            function loadContent(url) {
                $('main').load(url, function (response, status, xhr) {
                    if (status === "error") {
                        $('main').html("<h1>錯誤</h1><p>無法載入頁面內容。</p>");
                    }
                });
            }
        });
</script>